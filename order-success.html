<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Successful</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
    <div class="container py-5">
        <div id="order-details" class="text-center">
            <!-- Order details will be dynamically added here -->
        </div>
        <div class="text-center mt-4">
            <a href="index.html" class="btn btn-primary">Back to Home</a>
        </div>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const myOrders = JSON.parse(localStorage.getItem("myOrders")) || [];
            const lastOrder = myOrders[myOrders.length - 1]; // Get the most recent order

            if (!lastOrder) {
                alert("No order details found. Redirecting to the homepage.");
                window.location.href = "index.html";
                return;
            }

            // Display order details
            const orderDetailsContainer = document.getElementById("order-details");
            orderDetailsContainer.innerHTML = `
                <h2>Thank you for your order, ${lastOrder.name}!</h2>
                <p><strong>WhatsApp:</strong> ${lastOrder.whatsapp}</p>
                <p><strong>Payment Method:</strong> ${lastOrder.paymentMethod}</p>
                <p><strong>Notes:</strong> ${lastOrder.notes || "None"}</p>
                <h3>Order Summary:</h3>
                <ul>
                    ${lastOrder.cart.map(item => `
                        <li>${item.name} (x${item.quantity}) - Rp ${item.price.toLocaleString()}</li>
                    `).join("")}
                </ul>
                <p><strong>Total:</strong> ${lastOrder.total}</p>
            `;
        });
    </script>
</body>

</html>
